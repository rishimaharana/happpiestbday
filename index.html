<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happiest Birthday, My Special one</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: "Inter", sans-serif;
      background: #000;
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
      scroll-behavior: smooth;
      position: relative;
      margin: 0;
      padding: 0;
    }

    /* Background image */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: url('myy.jpg') center center / cover no-repeat;
      z-index: -2;
    }

    @media (max-width: 640px) {
      body::before {
        position: absolute;
        height: 100%;
        width: 100%;
        background-size: cover;
      }
    }

    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.35);
      z-index: -1;
    }

    /* Intro video */
    #intro-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    #intro-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      border-radius: 2px;
      opacity: 0.9;
      animation: confettiBlast 2.2s ease-out forwards;
      z-index: 999;
    }

    @keyframes confettiBlast {
      0% { transform: translate(0,0) scale(1) rotate(0deg); opacity: 1; }
      100% { transform: translate(var(--x), var(--y)) rotate(720deg); opacity: 0; }
    }

    /* Fade animation (for intro text) */
    .fade-in { opacity: 0; transform: translateY(20px); transition: all 1.2s ease-out; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }

    /* ‚ú® NEW: Fade-in on Scroll (for letter paragraphs) */
    .fade-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition: all 1s ease-out;
    }
    .fade-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Music button */
    #music-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(4px);
      color: #000;
      border: none;
      padding: 8px 18px;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 100;
      transition: 0.3s;
      outline: none;
    }

    #music-btn.playing {
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(245, 158, 176, 0.5); }
      70% { box-shadow: 0 0 0 12px rgba(245, 158, 176, 0); }
      100% { box-shadow: 0 0 0 0 rgba(245, 158, 176, 0); }
    }

    /* Gradient text */
    .animate-gradient {
      background: linear-gradient(90deg, #f472b6, #a78bfa, #34d399, #f87171);
      background-size: 400% 400%;
      animation: gradientMove 6s ease infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* ‚ú® NEW: Cleaner .letter-p class */
    .letter-p {
      background: rgba(0, 0, 0, 0.5);
      padding: 1rem;
      border-radius: 0.75rem; /* rounded-xl */
      max-width: 42rem; /* max-w-2xl */
      margin-left: auto;
      margin-right: auto;
      color: #e5e7eb; /* text-gray-100 */
      font-size: 1.25rem; /* text-xl */
    }

    /* Responsive */
    @media (max-width: 640px) {
      h1 { font-size: 2.2rem; }
      h2 { font-size: 1.5rem; }
      p { font-size: 1rem; padding: 0 10px; }
      #music-btn { top: 12px; right: 12px; padding: 7px 12px; }
      
      /* Adjust letter-p for mobile */
      .letter-p {
        font-size: 1rem;
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }
  </style>
</head>

<body>

  <noscript>
    <div style="width: 100%; padding: 20px; background: #ffc; color: #000; text-align: center; position: fixed; top: 0; z-index: 5000;">
      Please enable JavaScript to view this special birthday surprise!
    </div>
  </noscript>

  <div id="intro-screen">
    <video id="intro-video" autoplay muted playsinline onerror="this.parentElement.style.display='none'; document.getElementById('main-content').style.opacity='1'; document.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));">
      <source src="intro.mp4" type="video/mp4">
    </video>
  </div>

  <div id="confetti-container"></div>

  <audio id="bg-music" loop preload="auto">
    <source src="happy.mp3" type="audio/mpeg" />
  </audio>
  <button id="music-btn">Play Music üé∂</button>

  <main id="main-content" class="opacity-0 transition-opacity duration-1000">

    <section class="text-center py-16 px-4 fade-in" id="intro-text">
      <h1 class="text-6xl sm:text-7xl font-extrabold mb-4 animate-gradient" style="font-family: 'Great Vibes', cursive;">
        Happiest Birthday, Sindhuuu!!
      </h1>
      <p class="text-xl text-gray-100 max-w-2xl mx-auto bg-black/50 p-4 rounded-xl">
        You‚Äôve been my calm in chaos, my laughter in silence, and the person who makes every ordinary moment feel magical (since you are a Black Magician).
      </p>
    </section>

    <section class="space-y-6 text-center">
      <p class="letter-p fade-scroll">
        Hey Sindhu, It‚Äôs not about how I am to you, but how you‚Äôve become a part of me.
        I still remember how we first got connected ‚Äî just a simple thing, about attendance ‚Äî and somehow, without even realizing it, you started meaning so much more.
      </p>
      <p class="letter-p fade-scroll">
        My days once began with your good mornings and ended with your good nights.
        I never understood how I started sharing everything with you ‚Äî every thought, every worry, every little ache in my heart. Maybe it was your black magic üòÖ, or maybe it was just you ‚Äî the comfort I never saw coming.
      </p>
      <p class="letter-p fade-scroll">
        Every time we talked, my mind felt lighter, my heart calmer.
        Once you said, ‚ÄúWhy don‚Äôt you talk with your favorite person? It helps with migraines.‚Äù
        I didn‚Äôt understand it back then, but now I do ‚Äî you were that person who could ease my pain without even trying.
      </p>
      <p class="letter-p fade-scroll">
        But July‚Ä¶ that month still hurts to remember.
        I know circumstances made you lose patience and speak the way you did, but trust me ‚Äî I never held it against you. Some bonds are too precious to carry bitterness.
      </p>
      <p class="letter-p fade-scroll">
        I never wanted to lose you, because no one could ever fill the space you‚Äôve left behind.
        Still, no matter what happens, I‚Äôll always remain your shadow ‚Äî close enough to care, far enough not to disturb. If you ever face anything, just drop a single message‚Ä¶ I‚Äôll do everything I can, until the very edge of my limits.
      </p>
      <p class="letter-p fade-scroll">
        The care I‚Äôve shown you ‚Äî it‚Äôs the most I‚Äôve ever given anyone.
        Not because of how much, but because of who you are.
        You‚Äôre the only one who could take everything from me ‚Äî my thoughts, my calm, my time ‚Äî and still, I‚Äôd never ask for the same in return.
      </p>
      <p class="letter-p fade-scroll">
        I still remember pushing you to prepare for your exams after that Kochi trip ‚Äî the one you loved the most, from Dondaparthy to Scindia. I was genuinely happy that day; I thought I‚Äôd missed that trip, but maybe fate wanted me to have that one memory with you.
      </p>
      <p class="letter-p fade-scroll">
        And when the time comes for me to leave, I‚Äôll go quietly‚Ä¶ like I never existed.
        Don‚Äôt take my words too deep into your heart ‚Äî you already know I overthink like a psychiatrist person.
        But still, every memory, every word, every moment with you ‚Äî it‚Äôs all etched deep in me.
      </p>
      <p class="letter-p fade-scroll">
        I had prepared everything for your birthday ‚Äî not for a grand celebration, but just to see that spark of happiness in your eyes. Maybe I missed it, but that‚Äôs alright‚Ä¶ missing things has become a part of my life now.
      </p>
      <p class="letter-p fade-scroll">
        Still, I truly hope today brings you peace and joy ‚Äî especially at the old age home. If possible, do something kind for them‚Ä¶ maybe provide a few of their needs. That‚Äôs the best way you could celebrate ‚Äî spreading smiles where they‚Äôre most needed.
      </p>
      <p class="letter-p fade-scroll">
        I don‚Äôt have much more to say ‚Äî just be happy, that‚Äôs all I wish.
        Whether you see the link I shared or not, I don‚Äôt really know‚Ä¶ and I won‚Äôt expect it either ü§û.....
      </p>
      <p class="letter-p fade-scroll">
        Some wishes remain unspoken, some memories remain unsent ‚Äî but feelings like these, they never fade.
      </p>
      <p class="letter-p fade-scroll" style="padding-bottom: 4rem;"> Because some people don‚Äôt just enter your life‚Ä¶ they stay, even in your silence...üí´
      </p>
    </section>

  </main>

  <script>
    // üéµ Get music elements
    const music = document.getElementById("bg-music");
    const btn = document.getElementById("music-btn");
    const video = document.getElementById("intro-video");

    // üé• After intro video ends
    video.addEventListener("ended", async () => {
      document.getElementById("intro-screen").style.display = "none";
      document.getElementById("main-content").style.opacity = "1";
      document.querySelectorAll(".fade-in").forEach(el => el.classList.add("visible"));
      
      // ‚ú® NEW: Try to play music automatically
      try {
        await music.play();
        // If successful, update the button
        btn.textContent = "Pause Music üéµ";
        btn.classList.add("playing");
      } catch (err) {
        // If it fails (autoplay blocked), do nothing.
        console.warn("Autoplay was blocked by the browser.");
      }
    });

    // üéä Confetti
    const confettiContainer = document.getElementById("confetti-container");
    function createBlast(xOrigin, yOrigin, count = 35) {
      const colors = ["#f472b6", "#a78bfa", "#facc15", "#34d399", "#60a5fa", "#f87171"];
      for (let i = 0; i < count; i++) {
        const confetti = document.createElement("div");
        confetti.className = "confetti";
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = xOrigin;
        confetti.style.top = yOrigin;
        const angle = Math.random() * Math.PI * 2;
        const distance = 350 + Math.random() * 250;
        confetti.style.setProperty("--x", `${Math.cos(angle) * distance}px`);
        confetti.style.setProperty("--y", `${Math.sin(angle) * distance}px`);
        confettiContainer.appendChild(confetti);
        setTimeout(() => confetti.remove(), 25000);
      }
    }

    setTimeout(() => {
      createBlast("0px", "0px");
      createBlast("100vw", "0px");
      createBlast("0px", "100vh");
      createBlast("100vw", "100vh");
    }, 10000);

    // üéµ Music Button
    btn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        btn.textContent = "Pause Music üéµ";
        btn.classList.add("playing");
      } else {
        music.pause();
        btn.textContent = "Play Music üé∂";
        btn.classList.remove("playing");
      }
    });

    // ‚ú® Confetti on double-click
    btn.addEventListener("dblclick", () => {
      createBlast(Math.random() * window.innerWidth + "px", Math.random() * window.innerHeight + "px", 50);
    });

    // ‚ú® NEW: Fade-in on Scroll
    const faders = document.querySelectorAll(".fade-scroll");
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            observer.unobserve(entry.target); // Stop watching once it's visible
          }
        });
      },
      { threshold: 0.25 } // Trigger when 25% of the element is visible
    );

    faders.forEach((fader) => {
      observer.observe(fader);
    });
  </script>

</body>
</html>
